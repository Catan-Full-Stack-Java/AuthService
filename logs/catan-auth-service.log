2025-01-17 12:33:07 [main] INFO  com.dzieger.AuthServiceApplication - Starting AuthServiceApplication using Java 17.0.12 with PID 62844 (D:\CATAN-JAVA\AuthService\target\classes started by david in D:\CATAN-JAVA\AuthService)
2025-01-17 12:33:07 [main] DEBUG com.dzieger.AuthServiceApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-17 12:33:07 [main] INFO  com.dzieger.AuthServiceApplication - The following 1 profile is active: "dev"
2025-01-17 12:33:10 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-01-17 12:33:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-17 12:33:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-17 12:33:10 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-17 12:33:10 [main] INFO  com.dzieger.config.ParamStoreConfig - Initializing SsmClient
2025-01-17 12:33:12 [main] INFO  com.dzieger.config.Parameters - Initializing Parameters
2025-01-17 12:33:12 [main] INFO  com.dzieger.SecurityConfig.JwtUtil - Initializing JwtUtil
2025-01-17 12:33:12 [main] INFO  com.dzieger.config.DatabaseConfig - Initializing DatabaseConfig
2025-01-17 12:33:14 [main] DEBUG c.d.S.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-01-17 12:33:14 [main] INFO  c.d.SecurityConfig.SecurityConfig - Configuring global authentication manager
2025-01-17 12:33:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17 12:33:15 [main] INFO  c.d.SecurityConfig.SecurityConfig - Configuring security filter chain
2025-01-17 12:33:16 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-01-17 12:33:16 [main] INFO  com.dzieger.AuthServiceApplication - Started AuthServiceApplication in 8.495 seconds (process running for 9.04)
2025-01-17 12:34:54 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-17 12:34:54 [http-nio-8080-exec-2] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 12:34:54 [http-nio-8080-exec-2] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 12:34:59 [http-nio-8080-exec-4] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 12:34:59 [http-nio-8080-exec-4] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 12:34:59 [http-nio-8080-exec-4] INFO  c.dzieger.controllers.AuthController - Register endpoint hit
2025-01-17 12:34:59 [http-nio-8080-exec-4] DEBUG c.dzieger.controllers.AuthController - Registering player: RegisterDTO{firstName='User', email='test@email.com', password='Valid@123', username='user1'}
2025-01-17 12:34:59 [http-nio-8080-exec-4] INFO  com.dzieger.services.PlayerService - Registering new player: user1
2025-01-17 12:34:59 [http-nio-8080-exec-4] INFO  com.dzieger.services.PlayerService - Checking for duplicate username: user1
2025-01-17 12:35:05 [http-nio-8080-exec-5] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 12:35:05 [http-nio-8080-exec-5] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 12:35:05 [http-nio-8080-exec-5] INFO  c.dzieger.controllers.AuthController - Register endpoint hit
2025-01-17 12:35:05 [http-nio-8080-exec-5] DEBUG c.dzieger.controllers.AuthController - Registering player: RegisterDTO{firstName='User', email='test@email.com', password='Valid@123', username='user2'}
2025-01-17 12:35:05 [http-nio-8080-exec-5] INFO  com.dzieger.services.PlayerService - Registering new player: user2
2025-01-17 12:35:05 [http-nio-8080-exec-5] INFO  com.dzieger.services.PlayerService - Checking for duplicate username: user2
2025-01-17 12:35:05 [http-nio-8080-exec-5] INFO  com.dzieger.services.PlayerService - Checking for duplicate email
2025-01-17 12:35:16 [http-nio-8080-exec-6] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/login
2025-01-17 12:35:16 [http-nio-8080-exec-6] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 12:35:16 [http-nio-8080-exec-6] INFO  c.dzieger.controllers.AuthController - Login endpoint hit
2025-01-17 12:35:16 [http-nio-8080-exec-6] DEBUG c.dzieger.controllers.AuthController - Logging in player: com.dzieger.dtos.LoginDTO@1a3109fc
2025-01-17 12:35:16 [http-nio-8080-exec-6] INFO  com.dzieger.services.PlayerService - Logging in player: user2
2025-01-17 17:07:02 [main] INFO  com.dzieger.AuthServiceApplication - Starting AuthServiceApplication using Java 17.0.12 with PID 20304 (D:\CATAN-JAVA\AuthService\target\classes started by david in D:\CATAN-JAVA\AuthService)
2025-01-17 17:07:02 [main] DEBUG com.dzieger.AuthServiceApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-17 17:07:02 [main] INFO  com.dzieger.AuthServiceApplication - The following 1 profile is active: "dev"
2025-01-17 17:07:04 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-01-17 17:07:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-17 17:07:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-17 17:07:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-17 17:07:04 [main] INFO  com.dzieger.config.ParamStoreConfig - Initializing SsmClient
2025-01-17 17:07:06 [main] INFO  com.dzieger.config.Parameters - Initializing Parameters
2025-01-17 17:07:06 [main] INFO  com.dzieger.SecurityConfig.JwtUtil - Initializing JwtUtil
2025-01-17 17:07:06 [main] INFO  com.dzieger.config.DatabaseConfig - Initializing DatabaseConfig
2025-01-17 17:07:09 [main] DEBUG c.d.S.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-01-17 17:07:09 [main] INFO  c.d.SecurityConfig.SecurityConfig - Configuring global authentication manager
2025-01-17 17:07:09 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17 17:07:09 [main] INFO  c.d.SecurityConfig.SecurityConfig - Configuring security filter chain
2025-01-17 17:07:10 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-01-17 17:07:10 [main] INFO  com.dzieger.AuthServiceApplication - Started AuthServiceApplication in 8.397 seconds (process running for 8.931)
2025-01-17 17:09:18 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-17 17:09:18 [http-nio-8080-exec-2] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/login
2025-01-17 17:09:18 [http-nio-8080-exec-2] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 17:09:18 [http-nio-8080-exec-2] INFO  c.dzieger.controllers.AuthController - Login endpoint hit
2025-01-17 17:09:18 [http-nio-8080-exec-2] DEBUG c.dzieger.controllers.AuthController - Logging in player: com.dzieger.dtos.LoginDTO@75312ff1
2025-01-17 17:09:18 [http-nio-8080-exec-2] INFO  com.dzieger.services.PlayerService - Logging in player: user2
2025-01-17 20:52:43 [main] INFO  c.d.c.AuthControllerIntegrationTest - Starting AuthControllerIntegrationTest using Java 17.0.12 with PID 71612 (started by david in D:\CATAN-JAVA\AuthService)
2025-01-17 20:52:43 [main] DEBUG c.d.c.AuthControllerIntegrationTest - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-17 20:52:43 [main] INFO  c.d.c.AuthControllerIntegrationTest - The following 1 profile is active: "test"
2025-01-17 20:52:45 [main] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-01-17 20:52:45 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-01-17 20:52:45 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:45 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Fetching JDBC Connection from DataSource
2025-01-17 20:52:45 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:45 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [schema.sql]
2025-01-17 20:52:45 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - 0 returned as update count for SQL: CREATE SCHEMA IF NOT EXISTS catan_auth_db
2025-01-17 20:52:45 [main] DEBUG o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [schema.sql] in 4 ms.
2025-01-17 20:52:46 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-01-17 20:52:47 [main] DEBUG org.hibernate.SQL - 
    drop table if exists players cascade 
2025-01-17 20:52:47 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:47 [main] DEBUG org.hibernate.SQL - 
    create table players (
        id uuid not null,
        email varchar(255) not null unique,
        first_name varchar(255) not null,
        password varchar(255) not null,
        role varchar(255) not null,
        username varchar(255) not null unique,
        primary key (id)
    )
2025-01-17 20:52:47 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:47 [main] INFO  com.dzieger.config.Parameters - Initializing Parameters
2025-01-17 20:52:47 [main] INFO  com.dzieger.SecurityConfig.JwtUtil - Initializing JwtUtil
2025-01-17 20:52:47 [main] INFO  c.d.SecurityConfig.SecurityConfig - Configuring global authentication manager
2025-01-17 20:52:47 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17 20:52:48 [main] INFO  c.d.SecurityConfig.SecurityConfig - Configuring security filter chain
2025-01-17 20:52:49 [main] DEBUG c.d.S.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-01-17 20:52:49 [main] INFO  c.d.c.AuthControllerIntegrationTest - Started AuthControllerIntegrationTest in 5.833 seconds (process running for 7.119)
2025-01-17 20:52:49 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:49 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:49 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:49 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:49 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 20:52:49 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:50 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 20:52:50 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:50 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 20:52:50 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:50 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 20:52:50 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        players
        (email, first_name, password, role, username, id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-17 20:52:50 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/login
2025-01-17 20:52:50 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:50 [main] INFO  c.dzieger.controllers.AuthController - Login endpoint hit
2025-01-17 20:52:50 [main] DEBUG c.dzieger.controllers.AuthController - Logging in player: com.dzieger.dtos.LoginDTO@caf0e10
2025-01-17 20:52:50 [main] INFO  com.dzieger.services.PlayerService - Logging in player: test
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0 
    where
        p1_0.username=?
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0 
    where
        p1_0.username=?
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        players 
    where
        id=?
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        players
        (email, first_name, password, role, username, id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-17 20:52:50 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 20:52:50 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:50 [main] INFO  c.dzieger.controllers.AuthController - Register endpoint hit
2025-01-17 20:52:50 [main] DEBUG c.dzieger.controllers.AuthController - Registering player: RegisterDTO{firstName='John', email='test@email.com', password='Valid@123', username='test'}
2025-01-17 20:52:50 [main] INFO  com.dzieger.services.PlayerService - Registering new player: test
2025-01-17 20:52:50 [main] INFO  com.dzieger.services.PlayerService - Checking for duplicate username: test
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0 
    where
        p1_0.username=?
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        players 
    where
        id=?
2025-01-17 20:52:50 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 20:52:50 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:50 [main] INFO  c.dzieger.controllers.AuthController - Register endpoint hit
2025-01-17 20:52:50 [main] DEBUG c.dzieger.controllers.AuthController - Registering player: RegisterDTO{firstName='Player', email='newplayer@email.com', password='Valid@123', username='newplayer'}
2025-01-17 20:52:50 [main] INFO  com.dzieger.services.PlayerService - Registering new player: newplayer
2025-01-17 20:52:50 [main] INFO  com.dzieger.services.PlayerService - Checking for duplicate username: newplayer
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0 
    where
        p1_0.username=?
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] INFO  com.dzieger.services.PlayerService - Checking for duplicate email
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0 
    where
        p1_0.email=?
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        players
        (email, first_name, password, role, username, id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0 
    where
        p1_0.username=?
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        players 
    where
        id=?
2025-01-17 20:52:50 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 20:52:50 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:50 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:51 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        players
        (email, first_name, password, role, username, id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-17 20:52:51 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/login
2025-01-17 20:52:51 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:51 [main] INFO  c.dzieger.controllers.AuthController - Login endpoint hit
2025-01-17 20:52:51 [main] DEBUG c.dzieger.controllers.AuthController - Logging in player: com.dzieger.dtos.LoginDTO@5e7967a
2025-01-17 20:52:51 [main] INFO  com.dzieger.services.PlayerService - Logging in player: test
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0 
    where
        p1_0.username=?
2025-01-17 20:52:51 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0 
    where
        p1_0.username=?
2025-01-17 20:52:51 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        players 
    where
        id=?
2025-01-17 20:52:51 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/login
2025-01-17 20:52:51 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:51 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:51 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        players
        (email, first_name, password, role, username, id) 
    values
        (?, ?, ?, ?, ?, ?)
2025-01-17 20:52:51 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 20:52:51 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:51 [main] INFO  c.dzieger.controllers.AuthController - Register endpoint hit
2025-01-17 20:52:51 [main] DEBUG c.dzieger.controllers.AuthController - Registering player: RegisterDTO{firstName='John', email='duplicate@email.com', password='Valid@123', username='testuser'}
2025-01-17 20:52:51 [main] INFO  com.dzieger.services.PlayerService - Registering new player: testuser
2025-01-17 20:52:51 [main] INFO  com.dzieger.services.PlayerService - Checking for duplicate username: testuser
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0 
    where
        p1_0.username=?
2025-01-17 20:52:51 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:51 [main] INFO  com.dzieger.services.PlayerService - Checking for duplicate email
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0 
    where
        p1_0.email=?
2025-01-17 20:52:51 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        players 
    where
        id=?
2025-01-17 20:52:51 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/login
2025-01-17 20:52:51 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:51 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:51 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/login
2025-01-17 20:52:51 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:51 [main] INFO  c.dzieger.controllers.AuthController - Login endpoint hit
2025-01-17 20:52:51 [main] DEBUG c.dzieger.controllers.AuthController - Logging in player: com.dzieger.dtos.LoginDTO@5c2d3a5d
2025-01-17 20:52:51 [main] INFO  com.dzieger.services.PlayerService - Logging in player: invalid
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0 
    where
        p1_0.username=?
2025-01-17 20:52:51 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:51 [main] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:51 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.email,
        p1_0.first_name,
        p1_0.password,
        p1_0.role,
        p1_0.username 
    from
        players p1_0
2025-01-17 20:52:51 [main] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 20:52:51 [main] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 20:52:51 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists players cascade 
2025-01-17 20:52:51 [SpringApplicationShutdownHook] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 20:52:51 [SpringApplicationShutdownHook] INFO  o.s.j.d.e.EmbeddedDatabaseFactory - Shutting down embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false'
2025-01-17 20:52:51 [SpringApplicationShutdownHook] DEBUG o.s.j.d.SimpleDriverDataSource - Creating new JDBC Driver Connection to [jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false]
2025-01-17 21:14:00 [main] INFO  com.dzieger.AuthServiceApplication - Starting AuthServiceApplication using Java 17.0.12 with PID 65812 (D:\CATAN-JAVA\AuthService\target\classes started by david in D:\CATAN-JAVA\AuthService)
2025-01-17 21:14:00 [main] DEBUG com.dzieger.AuthServiceApplication - Running with Spring Boot v3.4.1, Spring v6.2.1
2025-01-17 21:14:00 [main] INFO  com.dzieger.AuthServiceApplication - The following 1 profile is active: "dev"
2025-01-17 21:14:02 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-01-17 21:14:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-17 21:14:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-01-17 21:14:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-17 21:14:02 [main] INFO  com.dzieger.config.ParamStoreConfig - Initializing SsmClient
2025-01-17 21:14:04 [main] INFO  com.dzieger.config.Parameters - Initializing Parameters
2025-01-17 21:14:04 [main] INFO  com.dzieger.SecurityConfig.JwtUtil - Initializing JwtUtil
2025-01-17 21:14:04 [main] INFO  com.dzieger.config.DatabaseConfig - Initializing DatabaseConfig
2025-01-17 21:14:06 [main] DEBUG c.d.S.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-01-17 21:14:07 [main] INFO  com.dzieger.services.PlayerService - PlayerService initialized
2025-01-17 21:14:07 [main] INFO  c.d.SecurityConfig.SecurityConfig - Configuring global authentication manager
2025-01-17 21:14:07 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-01-17 21:14:07 [main] INFO  c.d.SecurityConfig.SecurityConfig - Configuring security filter chain
2025-01-17 21:14:08 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-01-17 21:14:08 [main] INFO  com.dzieger.AuthServiceApplication - Started AuthServiceApplication in 8.412 seconds (process running for 8.986)
2025-01-17 21:15:52 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-17 21:15:52 [http-nio-8080-exec-2] INFO  c.d.S.JwtAuthenticationFilter - Processing request: /auth/register
2025-01-17 21:15:52 [http-nio-8080-exec-2] DEBUG c.d.S.JwtAuthenticationFilter - Extracting token from request
2025-01-17 21:15:52 [http-nio-8080-exec-2] INFO  c.dzieger.controllers.AuthController - Register endpoint hit
2025-01-17 21:15:52 [http-nio-8080-exec-2] DEBUG c.dzieger.controllers.AuthController - Registering player: RegisterDTO{firstName='User', email='testIntegration@email.com', password='Valid@123', username='Micro'}
2025-01-17 21:15:52 [http-nio-8080-exec-2] INFO  com.dzieger.services.PlayerService - Registering new player: Micro
2025-01-17 21:15:52 [http-nio-8080-exec-2] INFO  com.dzieger.services.PlayerService - Checking for duplicate username: micro
2025-01-17 21:15:53 [http-nio-8080-exec-2] INFO  com.dzieger.services.PlayerService - Checking for duplicate email
2025-01-17 21:15:53 [http-nio-8080-exec-2] INFO  com.dzieger.services.PlayerService - Creating player profile for player: 588001d6-bde3-4670-a293-badfe4221a1f
2025-01-17 21:15:54 [http-nio-8080-exec-2] INFO  com.dzieger.services.PlayerService - Player profile created successfully: {"success":true,"message":"Profile created successfully","data":"Profile created successfully"}
